import React, { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { cn } from '@/lib/utils';
import { BookOpen, BrainCircuit, Code2, ShieldAlert, Zap, CheckCircle } from 'lucide-react';

// Define the district colors
const navy = '#00305e';  // Dark Blue (Navy)
const maroon = '#851e3e'; // Maroon

// Module Data
const modules = [
    {
        title: 'Introduction to AI in Education',
        description: 'Explore the basics of AI and its potential applications in the educational landscape.',
        link: '/module1', // Placeholder link
        icon: <BookOpen className="w-6 h-6 text-blue-400" />,
    },
    {
        title: 'AI Platforms and Their Benefits for Teachers',
        description: 'Discover various AI platforms and how they can assist teachers in their daily tasks.',
        link: '/module2', // Placeholder link
        icon: <BrainCircuit className="w-6 h-6 text-green-400" />,
    },
    {
        title: 'Prompting Basics for Teacher Support and Differentiating',
        description: 'Learn the fundamentals of effective prompting for AI tools to support instruction and differentiation.',
        link: '/module3', // Placeholder link
        icon: <Code2 className="w-6 h-6 text-purple-400" />,
    },
    {
        title: 'Prompting Expert for Graphic Design and Poster Creation',
        description: 'Master advanced prompting techniques for creating engaging visual materials using AI.',
        link: '/module4', // Placeholder link
        icon: <Zap className="w-6 h-6 text-yellow-400" />,
    },
    {
        title: 'FERPA and Student Privacy Concerns with AI',
        description: 'Understand the critical importance of FERPA regulations and student data privacy when using AI in education.',
        link: '/module5', // Placeholder link
        icon: <ShieldAlert className="w-6 h-6 text-red-400" />,
    },
];

const HomePage = () => {
    const [completedModules, setCompletedModules] = useState<number[]>([]);

    const handleModuleComplete = (moduleIndex: number) => {
        if (!completedModules.includes(moduleIndex)) {
            setCompletedModules([...completedModules, moduleIndex]);
        }
    };

    const getCompletionText = (moduleIndex: number) => {
        if (completedModules.includes(moduleIndex)) {
            return 'Completed';
        }
        return 'Start Module';
    };

    const getCompletionIcon = (moduleIndex: number) => {
        if (completedModules.includes(moduleIndex)) {
            return <CheckCircle className="w-4 h-4 ml-2 text-white" />;
        }
        return null;
    };

    return (
        <div
            className="min-h-screen bg-gradient-to-br from-white to-gray-100
                       flex flex-col" // Changed to flex column
        >
            {/* Header Section */}
            <header
                className={cn(
                    'py-4 px-6 md:px-8',
                    `bg-[${navy}]`, // Use primary color
                    'text-white',
                    'shadow-md'
                )}
            >
                <div className="flex items-center justify-between">
                    <div className="flex items-center gap-4">
                        {/* You can replace this with an actual logo if available */}
                        <h1
                            className={cn(
                                'text-xl sm:text-2xl font-bold',
                                'tracking-tight'
                            )}
                        >
                            Waterbury Public Schools
                        </h1>
                    </div>
                    {/* Add navigation if needed */}
                </div>
            </header>

            {/* Main Content Section */}
            <main className="flex-1 p-4 sm:p-6 md:p-8 flex items-center justify-center">
                <div className="max-w-4xl w-full space-y-6">
                    <div className="text-center space-y-4">
                        <h2
                            className={cn(
                                'text-3xl sm:text-4xl md:text-5xl font-extrabold',
                                'bg-clip-text text-transparent',
                                `bg-gradient-to-r from-blue-600 to-maroon-600`, // Using gradient as before
                                'drop-shadow-lg',
                                'mb-4'
                            )}
                        >
                            Mini-Course: AI in Education
                        </h2>
                        <p className="text-gray-600 sm:text-lg">
                            Welcome to this mini-course designed for Waterbury Public Schools educators.
                            This course will equip you with the knowledge and skills to effectively
                            integrate Artificial Intelligence (AI) into your teaching practices while
                            upholding the highest standards of student privacy and ethical
                            considerations.
                        </p>
                        <p className="text-gray-700 sm:text-lg font-medium">
                            Specifically, you will learn how to leverage AI to enhance your
                            instructional strategies, create engaging learning materials, and ensure
                            compliance with FERPA regulations.
                        </p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {modules.map((module, index) => (
                            <Card
                                key={index}
                                className={cn(
                                    'transition-all duration-300 transform hover:scale-[1.02]',
                                    'border-2 border-gray-200 shadow-lg',
                                    'hover:shadow-xl hover:border-opacity-0',
                                    'bg-white/80 backdrop-blur-md',
                                    'hover:from-white/90 hover:to-white/90',
                                    `hover:from-border hover:via-white/90 hover:to-white/90`
                                )}
                            >
                                <CardHeader>
                                    <div className="flex items-center gap-3">
                                        {module.icon}
                                        <CardTitle
                                            className={cn(
                                                'text-lg font-semibold',
                                                index === 0 && 'text-blue-700',
                                                index === 1 && 'text-green-700',
                                                index === 2 && 'text-purple-700',
                                                index === 3 && 'text-yellow-700',
                                                index === 4 && 'text-red-700'
                                            )}
                                        >
                                            {module.title}
                                        </CardTitle>
                                    </div>
                                </CardHeader>
                                <CardContent>
                                    <CardDescription className="text-gray-600">
                                        {module.description}
                                    </CardDescription>
                                    <div className="flex items-center justify-between">
                                        <span className="text-sm text-gray-500">
                                            {completedModules.length} out of {modules.length} Complete
                                        </span>
                                        <Button
                                            as="a"
                                            href={module.link}
                                            onClick={() => handleModuleComplete(index)}
                                            className={cn(
                                                'mt-4',
                                                'transition-all duration-200',
                                                'hover:bg-opacity-90',
                                                'text-white font-semibold flex items-center',
                                                index === 0 && `bg-blue-600 hover:bg-blue-700`,
                                                index === 1 && `bg-green-600 hover:bg-green-700`,
                                                index === 2 && `bg-purple-600 hover:bg-purple-700`,
                                                index === 3 && `bg-yellow-600 hover:bg-yellow-700`,
                                                index === 4 && `bg-red-600 hover:bg-red-700`,
                                                `shadow-md hover:shadow-lg`
                                            )}
                                        >
                                            {getCompletionText(index)}
                                            {getCompletionIcon(index)}
                                        </Button>
                                    </div>
                                </CardContent>
                            </Card>
                        ))}
                    </div>
                    <div className="text-center py-6">
                        <p className="text-gray-700 sm:text-lg">
                            By the end of this course, you will be able to confidently and
                            responsibly integrate AI tools into your teaching practices,
                            ultimately enhancing the learning experience for your students.
                        </p>
                    </div>
                </div>
            </main>

            {/* Footer Section */}
            <footer
                className={cn(
                    'py-4 px-6 md:px-8',
                    `bg-[${navy}]`, // Use primary color
                    'text-white text-center',
                    'text-sm'
                )}
            >
                &copy; Waterbury Public Schools 2025
            </footer>
        </div>
    );
};

export default HomePage;
